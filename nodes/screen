#!/usr/bin/env python
"""
Display right hand camera image on baxter head screen.

PUBLISHERS:
  + /robot/xdisplay (sensor_msgs/Image) ~ head screen

SUBSCRIBES:
  + /cameras/right_hand_camera/image (sensor_msgs/Image) ~ right hand camera

"""
import rospy
from sensor_msgs.msg import Image
from std_msgs.msg import String

class Display(object):
    def __init__(self):
        self.rsub = rospy.Subscriber('/cameras/right_hand_camera/image', Image, callback1)
        self.lsub = rospy.Subscriber('proc_img', Image, callback2)
        self.decisionsub = rospy.Subscriber('lr', String, callback3)
        self.pub = rospy.Publisher('/robot/xdisplay', Image, queue_size=1)

    def callback1(msg):
        self.r = msg

    def callback2(msg):
        self.l = msg
    
    def callback3(msg):
        if msg == 'left':
            self.pub.publish(self.l)
        else:
            self.pub.publish(self.r)

def main():
    rospy.init_node('head_screen_display', anonymous=True)
    rospy.spin()

if __name__ == '__main__':
    try:
        main()
    except rospy.ROSInterruptException:
        pass